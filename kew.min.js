(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){window.kew=require("./kew")},{"./kew":2}],2:[function(require,module,exports){(function(process){function Promise(onSuccess,onFail){this.promise=this;this._isPromise=true;this._successFn=onSuccess;this._failFn=onFail;this._scope=this;this._boundArgs=null;this._hasContext=false;this._nextContext=undefined;this._currentContext=undefined}function nextTick(callback){callback()}if(typeof process!=="undefined"){nextTick=process.nextTick}function nextTickCallback(defer,callback,scope,args){try{defer.resolve(callback.apply(scope,args))}catch(thrown){defer.reject(thrown)}}function getNextTickFunction(){return nextTick}function setNextTickFunction(fn){nextTick=fn}function PromiseStats(){this.errorsEmitted=0;this.errorsHandled=0}var stats=new PromiseStats;Promise.prototype._handleError=function(){if(!this._errorHandled){stats.errorsHandled++;this._errorHandled=true}};Promise.prototype._useContext=function(context){this._nextContext=this._currentContext=context;this._hasContext=true;return this};Promise.prototype.clearContext=function(){this._hasContext=false;this._nextContext=undefined;return this};Promise.prototype.setContext=function(context){this._nextContext=context;this._hasContext=true;return this};Promise.prototype.getContext=function(){return this._nextContext};Promise.prototype.resolve=function(data){if(this._error||this._hasData)throw new Error("Unable to resolve or reject the same promise twice");var i;if(data&&isPromise(data)){this._child=data;if(this._promises){for(i=0;i<this._promises.length;i+=1){data._chainPromise(this._promises[i])}delete this._promises}if(this._onComplete){for(i=0;i<this._onComplete.length;i+=1){data.fin(this._onComplete[i])}delete this._onComplete}}else if(data&&isPromiseLike(data)){data.then(function(data){this.resolve(data)}.bind(this),function(err){this.reject(err)}.bind(this))}else{this._hasData=true;this._data=data;if(this._onComplete){for(i=0;i<this._onComplete.length;i++){this._onComplete[i]()}}if(this._promises){for(i=0;i<this._promises.length;i+=1){this._promises[i]._useContext(this._nextContext);this._promises[i]._withInput(data)}delete this._promises}}};Promise.prototype.reject=function(e){if(this._error||this._hasData)throw new Error("Unable to resolve or reject the same promise twice");var i;this._error=e;stats.errorsEmitted++;if(this._ended){this._handleError();process.nextTick(function onPromiseThrow(){throw e})}if(this._onComplete){for(i=0;i<this._onComplete.length;i++){this._onComplete[i]()}}if(this._promises){this._handleError();for(i=0;i<this._promises.length;i+=1){this._promises[i]._useContext(this._nextContext);this._promises[i]._withError(e)}delete this._promises}};Promise.prototype.then=function(onSuccess,onFail){var promise=new Promise(onSuccess,onFail);if(this._nextContext)promise._useContext(this._nextContext);if(this._child)this._child._chainPromise(promise);else this._chainPromise(promise);return promise};Promise.prototype.thenBound=function(onSuccess,scope,var_args){var promise=new Promise(onSuccess);if(this._nextContext)promise._useContext(this._nextContext);promise._scope=scope;if(arguments.length>2){promise._boundArgs=Array.prototype.slice.call(arguments,2)}if(this._child)this._child._chainPromise(promise);else this._chainPromise(promise);return promise};Promise.prototype.fail=function(onFail){return this.then(null,onFail)};Promise.prototype.failBound=function(onFail,scope,var_args){var promise=new Promise(null,onFail);if(this._nextContext)promise._useContext(this._nextContext);promise._scope=scope;if(arguments.length>2){promise._boundArgs=Array.prototype.slice.call(arguments,2)}if(this._child)this._child._chainPromise(promise);else this._chainPromise(promise);return promise};Promise.prototype.fin=function(onComplete){if(this._hasData||this._error){onComplete();return this}if(this._child){this._child.fin(onComplete)}else{if(!this._onComplete)this._onComplete=[onComplete];else this._onComplete.push(onComplete)}return this};Promise.prototype.end=function(){this._end();return this};Promise.prototype._end=function(){if(this._error){this._handleError();throw this._error}this._ended=true;return this};Promise.prototype.done=function(onSuccess,onFailure){var self=this;if(onSuccess||onFailure){self=self.then(onSuccess,onFailure)}self._end()};Promise.prototype.timeout=function(timeoutMs,timeoutMsg){var deferred=new Promise;var isTimeout=false;var timeout=setTimeout(function(){deferred.reject(new Error(timeoutMsg||"Promise timeout after "+timeoutMs+" ms."));isTimeout=true},timeoutMs);this.then(function(data){if(!isTimeout){clearTimeout(timeout);deferred.resolve(data)}},function(err){if(!isTimeout){clearTimeout(timeout);deferred.reject(err)}});return deferred.promise};Promise.prototype._withInput=function(data){if(this._successFn){this._nextTick(this._successFn,[data,this._currentContext])}else{this.resolve(data)}delete this._currentContext};Promise.prototype._withError=function(e){if(this._failFn){this._nextTick(this._failFn,[e,this._currentContext])}else{this.reject(e)}delete this._currentContext};Promise.prototype._nextTick=function(fn,args){if(this._boundArgs){args=this._boundArgs.concat(args)}nextTick(nextTickCallback.bind(null,this,fn,this._scope,args))};Promise.prototype._chainPromise=function(promise){var i;if(this._hasContext)promise._useContext(this._nextContext);if(this._child){this._child._chainPromise(promise)}else if(this._hasData){promise._withInput(this._data)}else if(this._error){this._handleError();promise._withError(this._error)}else if(!this._promises){this._promises=[promise]}else{this._promises.push(promise)}};function resolver(deferred,err,data){if(err)deferred.reject(err);else deferred.resolve(data)}Promise.prototype.makeNodeResolver=function(){return resolver.bind(null,this)};function isPromise(obj){return!!obj._isPromise}function isPromiseLike(obj){return typeof obj==="object"&&typeof obj.then==="function"}function resolve(data){var promise=new Promise;promise.resolve(data);return promise}function reject(e){var promise=new Promise;promise.reject(e);return promise}function replaceEl(arr,idx,val){arr[idx]=val;return val}function replaceElFulfilled(arr,idx,value){arr[idx]={state:"fulfilled",value:value};return value}function replaceElRejected(arr,idx,reason){arr[idx]={state:"rejected",reason:reason};return reason}function all(promises){if(arguments.length!=1||!Array.isArray(promises)){promises=Array.prototype.slice.call(arguments,0)}if(!promises.length)return resolve([]);var outputs=[];var finished=false;var promise=new Promise;var counter=promises.length;for(var i=0;i<promises.length;i+=1){if(!promises[i]||!isPromiseLike(promises[i])){outputs[i]=promises[i];counter-=1}else{promises[i].then(replaceEl.bind(null,outputs,i)).then(function decrementAllCounter(){counter--;if(!finished&&counter===0){finished=true;promise.resolve(outputs)}},function onAllError(e){if(!finished){finished=true;promise.reject(e)}})}}if(counter===0&&!finished){finished=true;promise.resolve(outputs)}return promise}function allSettled(promises){if(!Array.isArray(promises)){throw Error('The input to "allSettled()" should be an array of Promise or values')}if(!promises.length)return resolve([]);var outputs=[];var promise=new Promise;var counter=promises.length;for(var i=0;i<promises.length;i+=1){if(!promises[i]||!isPromiseLike(promises[i])){replaceElFulfilled(outputs,i,promises[i]);if(--counter===0)promise.resolve(outputs)}else{promises[i].then(replaceElFulfilled.bind(null,outputs,i),replaceElRejected.bind(null,outputs,i)).then(function(){if(--counter===0)promise.resolve(outputs)})}}return promise}function defer(){return new Promise}function delay(delayMsOrVal,opt_delayMs){var returnVal=undefined;var delayMs=delayMsOrVal;if(typeof opt_delayMs!="undefined"){delayMs=opt_delayMs;returnVal=delayMsOrVal}if(typeof delayMs!="number"){throw new Error("Bad delay value "+delayMs)}var defer=new Promise;setTimeout(function onDelay(){defer.resolve(returnVal)},delayMs);return defer}Promise.prototype.delay=function(ms){return this.then(function(val){return delay(val,ms)})};function fcall(fn,var_args){var rootArgs=Array.prototype.slice.call(arguments,1);var defer=new Promise;nextTick(nextTickCallback.bind(null,defer,fn,undefined,rootArgs));return defer}function nfcall(fn,var_args){var args=Array.prototype.slice.call(arguments,0);args.splice(1,0,undefined);return bindPromise.apply(undefined,args)()}function bindPromise(fn,scope,var_args){var rootArgs=Array.prototype.slice.call(arguments,2);return function onBoundPromise(var_args){var defer=new Promise;try{fn.apply(scope,rootArgs.concat(Array.prototype.slice.call(arguments,0),defer.makeNodeResolver()))}catch(e){defer.reject(e)}return defer}}module.exports={all:all,bindPromise:bindPromise,defer:defer,delay:delay,fcall:fcall,isPromise:isPromise,isPromiseLike:isPromiseLike,nfcall:nfcall,resolve:resolve,reject:reject,stats:stats,allSettled:allSettled,Promise:Promise,getNextTickFunction:getNextTickFunction,setNextTickFunction:setNextTickFunction}}).call(this,require("_process"))},{_process:3}],3:[function(require,module,exports){var process=module.exports={};process.nextTick=function(){var canSetImmediate=typeof window!=="undefined"&&window.setImmediate;var canMutationObserver=typeof window!=="undefined"&&window.MutationObserver;var canPost=typeof window!=="undefined"&&window.postMessage&&window.addEventListener;if(canSetImmediate){return function(f){return window.setImmediate(f)}}var queue=[];if(canMutationObserver){var hiddenDiv=document.createElement("div");var observer=new MutationObserver(function(){var queueList=queue.slice();queue.length=0;queueList.forEach(function(fn){fn()})});observer.observe(hiddenDiv,{attributes:true});return function nextTick(fn){if(!queue.length){hiddenDiv.setAttribute("yes","no")}queue.push(fn)}}if(canPost){window.addEventListener("message",function(ev){var source=ev.source;if((source===window||source===null)&&ev.data==="process-tick"){ev.stopPropagation();if(queue.length>0){var fn=queue.shift();fn()}}},true);return function nextTick(fn){queue.push(fn);window.postMessage("process-tick","*")}}return function nextTick(fn){setTimeout(fn,0)}}();process.title="browser";process.browser=true;process.env={};process.argv=[];function noop(){}process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.binding=function(name){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(dir){throw new Error("process.chdir is not supported")}},{}]},{},[1]);